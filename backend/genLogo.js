const puppeteer = require('puppeteer');
const fs = require('fs');

(async () => {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.setContent(`
    <!DOCTYPE html>
    <html>
      <body style="margin:0;padding:0; background: transparent;">
        <svg id="logo" width="470" height="115" viewBox="130 0 470 115" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M214.601 22.1195V87.9387C214.601 88.9638 213.776 89.7918 212.753 89.7918H197.381C196.634 89.7918 195.952 89.345 195.664 88.6484L194.091 84.8764C188.417 89.4896 181.222 92.1444 173.162 92.1444C151.957 92.1444 136.808 76.6359 136.808 55.0159C136.808 33.396 151.971 18.1503 173.162 18.1503C181.327 18.1503 188.626 20.884 194.353 25.6286L196.306 21.344C196.608 20.6869 197.263 20.2532 197.997 20.2532H212.753C213.776 20.2532 214.601 21.0812 214.601 22.1063M191.89 55.0685C191.89 46.0394 185.311 39.2577 176.373 39.2577C167.435 39.2577 160.856 46.0394 160.856 55.0685C160.856 64.0976 167.435 70.9319 176.373 70.9319C185.311 70.9319 191.89 64.1502 191.89 55.0685Z" fill="#1a3563" />
            <path d="M254.115 92.1447C237.68 92.1447 226.855 84.5744 224.169 72.7064C223.514 69.815 225.741 67.0682 228.703 67.0682H242.687C244.613 67.0682 246.343 68.2642 247.011 70.0779C248.139 73.0876 251.048 74.4939 254.573 74.4939C258.099 74.4939 261.375 72.7064 261.375 69.1053C261.375 65.0967 256.12 63.9533 249.462 62.8493C238.716 61.1013 224.457 57.8419 224.457 40.9797C224.457 27.0351 236.304 18.0454 254.062 18.0454C269.16 18.0454 279.709 24.9323 282.632 35.7225C283.431 38.6665 281.177 41.5448 278.15 41.5448H264.835C262.974 41.5448 261.283 40.4277 260.576 38.706C259.553 36.2088 257.05 35.0391 253.787 35.0391C249.96 35.0391 247.392 36.9448 247.392 40.1648C247.392 44.1208 252.699 45.0408 259.278 46.2236C270.234 48.1688 284.794 50.4556 284.794 68.0933C284.794 82.6293 272.567 92.1315 254.141 92.1315L254.115 92.1447Z" fill="#1a3563" />
            <path d="M371.014 55.1082C371.014 76.7676 355.852 92.2366 334.66 92.2366C328.396 92.2366 322.656 90.5807 317.754 87.6235V113.147C317.754 114.172 316.929 115 315.906 115H295.999C294.977 115 294.151 114.172 294.151 113.147V22.1854C294.151 21.1603 294.977 20.3323 295.999 20.3323H309.288C309.97 20.3323 310.599 20.7003 310.913 21.3049L313.377 25.8523C319.078 20.9106 326.417 18.0454 334.66 18.0454C355.865 18.0454 371.014 33.4357 371.014 55.095M346.979 55.095C346.979 45.9608 340.4 39.1791 331.462 39.1791C322.525 39.1791 315.946 45.9608 315.946 55.095C315.946 64.2293 322.525 71.011 331.462 71.011C340.4 71.011 346.979 64.2293 346.979 55.095Z" fill="#1a3563" />
            <path d="M455.951 54.4503C455.951 55.1075 455.937 55.7646 455.898 56.4349C455.767 58.8926 453.723 60.7983 451.272 60.7983H403.975C405.534 68.776 410.593 72.9029 418.128 72.9029C422.912 72.9029 427.014 71.1023 429.543 68.0269C430.408 66.9754 431.706 66.384 433.069 66.384H447.498C450.97 66.384 453.264 70.1166 451.613 73.1789C445.23 85.0337 432.898 92.1702 418.141 92.1702C396.504 92.1702 380.477 76.3069 380.477 55.0681C380.477 33.8293 396.373 18.071 418.141 18.071C439.91 18.071 455.964 34.0658 455.964 54.4635L455.951 54.4503ZM404.394 47.5241H432.426C430.329 40.5715 425.336 36.8258 418.128 36.8258C410.92 36.8258 406.333 40.6241 404.394 47.5241Z" fill="#1a3563" />
            <path d="M503.679 92.1441C481.439 92.1441 465.385 76.5173 465.385 55.0025C465.385 33.4877 481.36 18.1631 503.744 18.1631C521.07 18.1631 534.542 27.902 539.155 43.0688C540.046 46.0128 537.779 48.9831 534.699 48.9831H520.126C518.435 48.9831 516.928 48.0368 516.076 46.5648C513.573 42.2802 508.96 39.6254 503.666 39.6254C495.278 39.6254 489.302 46.0259 489.302 55.0813C489.302 64.1367 495.344 70.6818 503.666 70.6818C509.131 70.6818 513.704 67.8299 516.155 63.1379C516.981 61.5739 518.54 60.5356 520.309 60.5356H534.948C538.028 60.5356 540.295 63.4927 539.404 66.4499C534.725 82.0241 521.07 92.1441 503.653 92.1441H503.679Z" fill="#1a3563" />
            <path d="M601 73.5341V85.218C601 87.7809 598.929 89.8706 596.361 89.8706H584.566C569.232 89.8706 559.915 80.4735 559.915 65.0175V38.7845H549.076C548.054 38.7845 547.229 37.9565 547.229 36.9313V33.9216C547.229 33.4485 547.412 32.9885 547.727 32.6468L577.738 0.591427C578.092 0.223428 578.577 0 579.088 0H581.342C582.364 0 583.19 0.827998 583.19 1.85314V20.3319H595.981C598.536 20.3319 600.62 22.4085 600.62 24.9845V34.1319C600.62 36.6947 598.549 38.7845 595.981 38.7845H583.793V60.917C583.793 65.8981 586.794 68.8947 591.826 68.8947H596.361C598.916 68.8947 601 70.9712 601 73.5472" fill="#1a3563" />
        </svg>
      </body>
    </html>
  `);
  const svg = await page.$('#logo');
  const buffer = await svg.screenshot({ omitBackground: true });
  const base64 = buffer.toString('base64');

  const content = `export const pureAspectLogoBase64 = 'data:image/png;base64,${base64}';\n`;
  fs.writeFileSync('src/assets/pureAspectLogoBase64.ts', content);

  await browser.close();
  console.log('Successfully written pureAspectLogoBase64.ts');
})();
